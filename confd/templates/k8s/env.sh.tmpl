#!/usr/bin/env bash
{{range gets "/host/*"}}
HOST_{{base .Key| toUpper}}="{{.Value|js}}"
{{end}}

{{range $dir := lsdir "/hosts/master/"}}{{$tmp := printf "/hosts/master/%s/sid" $dir}}{{$index := getv $tmp}}
MASTER_{{$index}}_IP={{printf "/hosts/master/%s/ip" $dir | getv}}
MASTER_{{$index}}_INSTANCE_ID={{printf "/hosts/master/%s/instance_id" $dir | getv}}
{{end}}

LB_IP={{getv "/env/loadbalancer_ip"}}
NETWORK_PLUGIN={{getv "/env/network_plugin"}}

DNS_DOMAIN={{getv "/env/api_external_domain"}}
POD_SUBNET={{getv "/env/pod_subnet"}}
SERVICE_SUBNET={{getv "/env/service_subnet"}}

{{range gets "/env/*"}}
ENV_{{replace .Key "-" "_" -1 | base | toUpper | }}="{{.Value|js}}"
{{end}}
