{
  "type": "array",
  "properties": [
    {
      "key": "cluster",
      "description": "Kubernetes properties",
      "type": "array",
      "properties": [
        {
          "key": "name",
          "label": "name",
          "description": "The name of the Kubernetes cluster",
          "type": "string",
          "default": "my k8s cluster",
          "required": "yes"
        },
        {
          "key": "description",
          "label":"description",
          "description": "Description of Kubernetes cluster",
          "type": "string",
          "default": "my k8s cluster",
          "required": "yes"
        },
        {
          "key": "resource_group",
          "label": "Resource Configuration",
          "description": "The resource configuration of the service",
          "type": "string",
          "default": "Basic",
          "range": ["Basic", "Premium", "Basic HA", "Premium HA"]
        },
        {
          "key": "vxnet",
          "label": "VxNet",
          "description": "Choose a vxnet to join",
          "type": "string",
          "default": "",
          "required": "yes"
        },
        {
          "key": "etcd_service",
          "label": "Etcd service",
          "description": "Choose an Etcd cluster to store Kubernetes cluster data, leave empty if you choose to use internal Etcd service in Kubernetes cluster",
          "type": "service",
          "tag": ["ETCD", "etcd"],
          "default": "",
          "required": "no"
        },
        {
          "key": "master",
          "label": "master",
          "description": "master properties",
          "type": "array",
          "properties": [
              {
                "key": "count",
                "label": "count",
                "description": "Number of master for the cluster to create",
                "type": "integer",
                "default": 1,
                "range": [
                  1,
                  3
                ],
                "required": "yes",
                "resource_group": [1,1,3, 3]
              },
            {
              "key": "instance_class",
              "label": "resource type",
              "description": "The instance type for the cluster to run, such as high performance, high performance plus",
              "type": "integer",
              "default": 0,
              "range": [
                0,
                1
              ],
              "required": "yes",
              "resource_group": [0,1,0, 1]
            },
            {
              "key": "cpu",
              "label": "CPU",
              "description": "CPUs of each node",
              "type": "integer",
              "default": 4,
              "range": [
                4,
                8,
                12,
                16
            ],
              "required": "yes",
              "resource_group": [4,8,4, 8]
            },
            {
              "key": "memory",
              "label": "Memory",
              "description": "memory of each node (in MB)",
              "type": "integer",
              "default": 8192,
              "range": [
                8192,
                16384,
                24576,
                32768,
                49152,
                65536
            ],
              "required": "yes",
              "resource_group": [8192, 16384,8192, 16384]
            },
            {
              "key": "volume_size",
              "label": "volume size",
              "description": "The volume size for each instance",
              "type": "integer",
              "default": 80,
              "min": 40,
              "max": 500,
              "step": 10,
              "required": "yes",
              "resource_group": [80, 200,80, 200]
            }
          ]
        },
        {
          "key": "node",
          "label": "node",
          "description": "node properties",
          "type": "array",
          "properties": [
               {
                  "key": "count",
                  "label": "count",
                  "description": "Number of nodes for the cluster to create",
                  "type": "integer",
                  "default": 2,
                  "min":0,
                  "max":100,
                  "required": "yes",
                  "resource_group": [3, 0,3, 0]
                },
                {
                  "key": "cpu",
                  "label": "CPU",
                  "description": "CPUs of each node",
                  "type": "integer",
                  "default": 4,
                  "range": [
                    4,
                    8,
                    12,
                    16
                  ],
                  "required": "yes"
                },
                {
                  "key": "memory",
                  "label": "Memory",
                  "description": "memory of each node (in MB)",
                  "type": "integer",
                  "default": 8192,
                  "range": [
                    8192,
                    16384,
                    24576,
                    32768,
                    49152,
                    65536
                  ],
                  "required": "yes"
                },
                {
                  "key": "volume_size",
                  "label": "volume size",
                  "description": "The volume size for each instance",
                  "type": "integer",
                  "default": 80,
                  "min": 40,
                  "max": 500,
                  "step": 10,
                  "required": "yes"
                }
          ]
        },
        {
          "key": "ssd_node",
          "label": "ssd",
          "description": "ssd node properties",
          "type": "array",
          "properties": [
              {
                  "key": "count",
                  "label": "count",
                  "description": "Number of nodes for the cluster to create",
                  "type": "integer",
                  "default": 0,
                  "min":0,
                  "max":100,
                  "required": "yes",
                  "resource_group": [0, 3,0, 3]
              },
              {
                  "key": "cpu",
                  "label": "CPU",
                  "description": "CPUs of each node",
                  "type": "integer",
                  "default": 8,
                  "range": [
                      4,
                      8,
                      12,
                      16
                  ],
                  "required": "yes"
              },
              {
                  "key": "memory",
                  "label": "Memory",
                  "description": "memory of each node (in MB)",
                  "type": "integer",
                  "default": 16384,
                  "range": [
                      8192,
                      16384,
                      24576,
                      32768,
                      49152,
                      65536
                  ],
                  "required": "yes"
              },
              {
                  "key": "volume_size",
                  "label": "volume size",
                  "description": "The volume size for each instance",
                  "type": "integer",
                  "default": 200,
                  "min": 40,
                  "max": 500,
                  "step": 10,
                  "required": "yes"
              }
          ]
        },
        {
          "key": "client",
          "label": "client",
          "description": "client properties",
          "type": "array",
          "properties": [
          {
              "key": "instance_class",
              "label": "resource type",
              "description": "The instance type for the cluster to run, such as high performance, high performance plus",
              "type": "integer",
              "default": 0,
              "range": [
                  0,
                  1
              ],
              "required": "yes",
              "resource_group": [0,1,0, 1]
          },
          {
              "key": "cpu",
              "label": "CPU",
              "description": "CPUs of each node",
              "type": "integer",
              "default": 1,
              "range": [
                  1,
                  2
              ],
              "required": "yes",
              "resource_group": [1,2,1,2]
          },
          {
              "key": "memory",
              "label": "Memory",
              "description": "memory of each node (in MB)",
              "type": "integer",
              "default": 1024,
              "range": [
                  1024,
                  2048
              ],
              "required": "yes",
              "resource_group": [1024,2048,1024,2048]
          }
          ]
        }
      ]
    },
    {
      "key": "env",
      "description": "application configuration properties",
      "type": "array",
      "properties": [
        {
          "key": "access_key_id",
          "label": "Access key id",
          "description": "API access key id",
          "type": "accesskey",
          "changeable": false,
          "required": "yes"
        },
        {
          "key": "pod_subnet",
          "label": "Pod Subnet",
          "description": "Pod Subnet",
          "type": "string",
          "default": "10.10.0.0/16",
          "changeable": false,
          "required": "no"
        },
        {
          "key": "service_subnet",
          "label": "Service Subnet",
          "description": "Service Subnet",
          "type": "string",
          "default": "10.96.0.0/16",
          "changeable": false,
          "required": "no"
        },
        {
          "key": "api_external_domain",
          "label": "Api External Domain",
          "description": "The domain of the Kubernetes api server",
          "type": "string",
          "default": "cluster.local",
          "changeable": false,
          "required": "no"
        },
        {
          "key": "cluster_port_range",
          "label": "Port range of each node",
          "description": "A port range to reserve for services with NodePort visibility. Example: '30000-32767'. Inclusive at both ends of the range.",
          "type": "string",
          "default": "30000-32767",
          "changeable": false,
          "required": "no"
        },
        {
          "key": "max_pods",
          "label": "Max pods",
          "description": "Number of Pods that can run on each working node/kubelet",
          "type": "integer",
          "changeable": true,
          "default": 60,
          "range":[60,120,180,240],
          "required": "no"
        },
        {
          "key": "network_plugin",
          "label": "network plugin",
          "description": "Choose a network plugin",
          "type": "string",
          "changeable": false,
          "default": "calico",
          "range":["calico","flannel"],
          "required": "no"
        },
        {
          "key": "proxy_mode",
          "label": "Proxy Mode",
          "description": "Choose a proxy mode",
          "type": "string",
          "changeable": false,
          "default": "ipvs",
          "range":["ipvs","iptables"],
          "required": "no"
        },
        {
          "key": "host_aliases",
          "label": "host aliases",
          "description": "Set host aliases",
          "type": "string",
          "changeable": true,
          "default": "",
          "required": "no"
        },
        {
          "key": "registry_mirrors",
          "label": "Registry mirrors",
          "description": "The Docker hub registry mirror, use a blank to split multi registry",
          "type": "string",
          "default": "",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "insecure_registry",
          "label": "Insecure registry",
          "description": "The insecure Docker registry, use a blank to split multi registry",
          "type": "string",
          "default": "",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "private_registry",
          "label": "Private registry",
          "description": "The URL of private Docker registry",
          "type": "string",
          "default": "",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "dockerhub_username",
          "label": "Username of Docker registry",
          "description": "The username of Docker registry, could be dockerhub.qingcloud.com or your private registry",
          "type": "string",
          "default": "",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "dockerhub_password",
          "label": "Password of Docker registry",
          "description": "The password of Docker registry",
          "type": "password",
          "default": "",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "docker_bip",
          "label": "IP address and netmask for Docker bridge network",
          "description": "IP address and netmask for Docker bridge network, using standard CIDR notation. For example: 192.168.1.5/24",
          "type": "string",
          "default": "172.30.0.1/16",
          "changeable": true,
          "required": "no"
        },
        {
          "key": "keep_log_days",
          "label": "Keep log days",
          "description": "Keep log on log node for x days, 0 indicates that the log is not cleared",
          "type": "integer",
          "default": 3,
          "min":0,
          "max":30,
          "changeable": true,
          "required": "no"
        },
        {
          "key": "keep_audit_days",
          "label": "Keep audit days",
          "description": "Defined the maximum number of days to retain old audit log files",
          "type": "integer",
          "default": 3,
          "min":0,
          "max":30,
          "changeable": true,
          "required": "no"
        },
        {
          "key": "docker_prune_days",
          "label": "Docker prune days",
          "description": "Keep Docker for x days, 0 indicates that the log is not cleared",
          "type": "integer",
          "default": 3,
          "min":0,
          "max":30,
          "changeable": true,
          "required": "no"
        },
        {
          "key": "kube_log_level",
          "label": "Kubernetes log level",
          "description": "The log level for Kubernetes system",
          "type": "integer",
          "default": 0,
          "min":0,
          "max":10,
          "changeable": true,
          "required": "no"
        }
      ]
    }
  ]
}